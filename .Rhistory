setwd("~/GitHub/vaccine_equity_ethiopia")
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
# Plots for vaccine equity in Ethiopia study
# load libraries
library (data.table)
library (ggplot2)
library (ggpubr)
# clear workspace
rm (list = ls ())
# ------------------------------------------------------------------------------
# Plot - Vaccination coverage
# Vaccination coverage in Ethiopia among children aged 12-23 months by
# socioeconomic, geographic, maternal and child characteristics.
#   socioeconomic (household wealth, religion, ethnicity)
#   geographic (area of residence, region)
#   maternal (maternal age at birth, maternal education, maternal marital status, sex of household head)
#   child (sex of child, birth order) characteristics
# ------------------------------------------------------------------------------
# read file with plot data
plot_data <- fread ("data_coverage.csv")
plot_list <- vector (mode = "list", length = 4)
View(plot_data)
unique (plot_data$characteristics)
# Plots for vaccine equity in Ethiopia study
# load libraries
library (data.table)
library (ggplot2)
library (ggpubr)
# clear workspace
rm (list = ls ())
# ------------------------------------------------------------------------------
# Plot - Vaccination coverage
# Vaccination coverage in Ethiopia among children aged 12-23 months by
# socioeconomic, geographic, maternal and child characteristics.
#   socioeconomic (household wealth, religion, ethnicity)
#   geographic (area of residence, region)
#   maternal (maternal age at birth, maternal education, maternal marital status, sex of household head)
#   child (sex of child, birth order) characteristics
# ------------------------------------------------------------------------------
# read file with plot data
plot_data <- fread ("data_coverage.csv")
plot_list <- vector (mode = "list", length = 4)
# loop through plots for vaccination coverage
for (i in 1:4) {
plot_dat <- switch (i,
# socioeconomic characteristics
"1" = plot_data [characteristics == "Household wealth" |
characteristics == "Religion" |
characteristics == "Ethnicity"],
# geographic characteristics
"2" = plot_data [characteristics == "Residence" |
characteristics == "Region"],
# maternal characteristics
"3" = plot_data [characteristics == "Maternal age" |
characteristics == "Maternal education" |
characteristics == "Marital status" |
characteristics == "Household head"],
# child characteristics
"4" = plot_data [characteristics == "Child" |
characteristics == "Birth order"]
)
# plot title
plot_title <- switch (i,
"1" = "Socioeconomic characteristics",
"2" = "Geographic characteristics",
"3" = "Maternal characteristics",
"4" = "Child characteristics")
# plot
plot_list [[i]] <- ggplot (data = plot_dat,
aes (x = reorder (specific_characteristics, -coverage),
y = coverage,
fill = -coverage)) +
geom_bar (stat = "identity", width = 0.75, alpha=0.9) +
labs (x = "",
y = "Basic vaccination coverage (%)",
title = plot_title) +
coord_flip () +
facet_grid (characteristics ~ ., scales = "free") +
theme_bw () +
theme(legend.position="none")
}
# arrange plot columns and rows
p <- ggarrange (plotlist = plot_list, ncol = 2, nrow = 2)
print (p)
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
source('~/GitHub/vaccine_equity_ethiopia/plot.R')
